# UTMka 2.0.2 - macOS Release

## üéâ –†–µ–ª–∏–∑ –¥–ª—è macOS

–≠—Ç–æ—Ç —Ä–µ–ª–∏–∑ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å–≤—è—â–µ–Ω –≤—ã–ø—É—Å–∫—É UTMka –¥–ª—è macOS. –¢–µ–ø–µ—Ä—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ Mac –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UTMka –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π.

## üì¶ –ì–æ—Ç–æ–≤—ã–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏

–î–ª—è –≤–∞—à–µ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –º—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –≥–æ—Ç–æ–≤—ã–µ DMG —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏ –¥–ª—è –æ–±–µ–∏—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä macOS:

### üçé Apple Silicon (M1, M2, M3 –∏ –Ω–æ–≤–µ–µ)
- **–§–∞–π–ª**: `UTMka-2.0.2-macOS-ARM.dmg`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: arm64
- **–†–∞–∑–º–µ—Ä**: ~150-200 –ú–ë
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**: macOS 10.13 –∏–ª–∏ –Ω–æ–≤–µ–µ

### üíª Intel (x86_64)
- **–§–∞–π–ª**: `UTMka-2.0.2-macOS-Intel.dmg`
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: x86_64
- **–†–∞–∑–º–µ—Ä**: ~150-200 –ú–ë
- **–°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è**: macOS 10.13 –∏–ª–∏ –Ω–æ–≤–µ–µ

## üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π

### –ë—ã—Å—Ç—Ä–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–°–∫–∞—á–∞–π—Ç–µ DMG —Ñ–∞–π–ª** –¥–ª—è –≤–∞—à–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
   - –î–ª—è Mac —Å Apple Silicon ‚Üí `UTMka-2.0.2-macOS-ARM.dmg`
   - –î–ª—è Mac —Å Intel ‚Üí `UTMka-2.0.2-macOS-Intel.dmg`

2. **–û—Ç–∫—Ä–æ–π—Ç–µ DMG —Ñ–∞–π–ª** ‚Äî –æ–Ω –ø–æ—è–≤–∏—Ç—Å—è –≤ Finder

3. **–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ UTMka.app** –≤ –ø–∞–ø–∫—É Applications
   - –ò–ª–∏ –¥–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

4. **–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ** macOS –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
   - –û—Ç–∫—Ä–æ–π—Ç–µ **–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** > **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å**
   - –ù–∞–π–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ UTMka
   - –ù–∞–∂–º–∏—Ç–µ **"–û—Ç–∫—Ä—ã—Ç—å –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ"**

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ Terminal)

–ï—Å–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∏–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±–æ–π—Ç–∏ –µ–≥–æ —Å—Ä–∞–∑—É:

```bash
# –£–¥–∞–ª–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã
xattr -cr /Applications/UTMka.app

# –ò–ª–∏ –µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –≤ Applications, —É–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
xattr -cr /path/to/UTMka.app
```

–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ: —Å–º. [INSTALL_MACOS.md](INSTALL_MACOS.md)

## üî® –°–±–æ—Ä–∫–∞ –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ —Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞, —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–æ–º—É —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É.

### –®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/your-username/UTMka-official-service.git

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd UTMka-official-service
```

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

#### 2.1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Python
python3 --version

# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–µ—Ä—Å–∏—è 3.8 –∏–ª–∏ –Ω–æ–≤–µ–µ
# –ï—Å–ª–∏ Python –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ Homebrew:
brew install python3
```

#### 2.2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ requirements.txt
pip3 install -r requirements.txt

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PyInstaller –¥–ª—è —Å–±–æ—Ä–∫–∏
pip3 install pyinstaller
```

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- Flask (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
- PyQt6 (GUI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- PyQt6-WebEngine (–≤–µ–±-–¥–≤–∏–∂–æ–∫)
- pywebview (–æ–∫–Ω–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
- –î—Ä—É–≥–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑ `requirements.txt`

### –®–∞–≥ 3: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏–∫–æ–Ω–∫–∏

–ò–∫–æ–Ω–∫–∞ —É–∂–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç–µ (`logo/logoutm.icns`), –Ω–æ –µ—Å–ª–∏ –µ—ë –Ω–µ—Ç, —Å–æ–∑–¥–∞–π—Ç–µ –µ—ë:

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd UTMka-official-service

# –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –∏–∫–æ–Ω–æ–∫
mkdir -p logo/logoutm.iconset

# –°–æ–∑–¥–∞–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –∏–∫–æ–Ω–æ–∫ –∏–∑ PNG
sips -z 16 16 logo/logoutm.png --out logo/logoutm.iconset/icon_16x16.png
sips -z 32 32 logo/logoutm.png --out logo/logoutm.iconset/icon_16x16@2x.png
sips -z 32 32 logo/logoutm.png --out logo/logoutm.iconset/icon_32x32.png
sips -z 64 64 logo/logoutm.png --out logo/logoutm.iconset/icon_32x32@2x.png
sips -z 128 128 logo/logoutm.png --out logo/logoutm.iconset/icon_128x128.png
sips -z 256 256 logo/logoutm.png --out logo/logoutm.iconset/icon_128x128@2x.png
sips -z 256 256 logo/logoutm.png --out logo/logoutm.iconset/icon_256x256.png
sips -z 512 512 logo/logoutm.png --out logo/logoutm.iconset/icon_256x256@2x.png
sips -z 512 512 logo/logoutm.png --out logo/logoutm.iconset/icon_512x512.png
sips -z 1024 1024 logo/logoutm.png --out logo/logoutm.iconset/icon_512x512@2x.png

# –°–æ–∑–¥–∞–π—Ç–µ .icns —Ñ–∞–π–ª
iconutil -c icns logo/logoutm.iconset -o logo/logoutm.icns

# –£–¥–∞–ª–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–∞–ø–∫—É
rm -rf logo/logoutm.iconset
```

### –®–∞–≥ 4: –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –î–ª—è Apple Silicon (ARM)

–ï—Å–ª–∏ —É –≤–∞—Å Mac —Å Apple Silicon (M1/M2/M3):

```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x scripts/build_macos_arm.sh
chmod +x scripts/create_dmg_arm.sh

# –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./scripts/build_macos_arm.sh

# –°–æ–∑–¥–∞–π—Ç–µ DMG —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
./scripts/create_dmg_arm.sh
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `dist/UTMka.app`
- DMG —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫: `dist/UTMka-2.0.2-macOS-ARM.dmg`

#### –î–ª—è Intel (x86_64)

–ï—Å–ª–∏ —É –≤–∞—Å Mac —Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º Intel:

```bash
# –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏
chmod +x scripts/build_macos_intel.sh
chmod +x scripts/create_dmg_intel.sh

# –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
./scripts/build_macos_intel.sh

# –°–æ–∑–¥–∞–π—Ç–µ DMG —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
./scripts/create_dmg_intel.sh
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `dist/UTMka.app`
- DMG —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫: `dist/UTMka-2.0.2-macOS-Intel.dmg`

#### –°–±–æ—Ä–∫–∞ –æ–±–µ–∏—Ö –≤–µ—Ä—Å–∏–π –Ω–∞ Mac —Å Apple Silicon

–ï—Å–ª–∏ —É –≤–∞—Å Mac —Å Apple Silicon, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–±—Ä–∞—Ç—å –æ–±–µ –≤–µ—Ä—Å–∏–∏:

```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ ARM –≤–µ—Ä—Å–∏—é (–Ω–∞—Ç–∏–≤–Ω–∞—è)
./scripts/build_macos_arm.sh
./scripts/create_dmg_arm.sh
mv dist/UTMka.app dist/UTMka.app.arm
mv dist/UTMka-2.0.2-macOS-ARM.dmg dist/UTMka-2.0.2-macOS-ARM.dmg.backup

# 2. –°–æ–±–µ—Ä–∏—Ç–µ Intel –≤–µ—Ä—Å–∏—é (—á–µ—Ä–µ–∑ Rosetta 2)
arch -x86_64 ./scripts/build_macos_intel.sh
arch -x86_64 ./scripts/create_dmg_intel.sh

# –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –æ–±–µ –≤–µ—Ä—Å–∏–∏:
# - dist/UTMka.app.arm (ARM –≤–µ—Ä—Å–∏—è)
# - dist/UTMka.app (Intel –≤–µ—Ä—Å–∏—è)
# - dist/UTMka-2.0.2-macOS-ARM.dmg.backup
# - dist/UTMka-2.0.2-macOS-Intel.dmg
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–ª—è —Å–±–æ—Ä–∫–∏ Intel –≤–µ—Ä—Å–∏–∏ –Ω–∞ Mac —Å Apple Silicon —Ç—Ä–µ–±—É–µ—Ç—Å—è Rosetta 2 (–æ–±—ã—á–Ω–æ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏).

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–±—Ä–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
file dist/UTMka.app/Contents/MacOS/UTMka

# –î–ª—è ARM –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: arm64
# –î–ª—è Intel –¥–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å: x86_64

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
open dist/UTMka.app
```

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
UTMka-official-service/
‚îú‚îÄ‚îÄ app.py                    # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ index.html                # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ Python
‚îú‚îÄ‚îÄ UTMka_macos_arm.spec      # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è PyInstaller –¥–ª—è ARM
‚îú‚îÄ‚îÄ UTMka_macos_intel.spec    # –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è PyInstaller –¥–ª—è Intel
‚îú‚îÄ‚îÄ INSTALL_MACOS.md          # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
‚îú‚îÄ‚îÄ BUILD_MACOS.md            # –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Å–±–æ—Ä–∫–µ
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ build_macos_arm.sh    # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è ARM
‚îÇ   ‚îú‚îÄ‚îÄ build_macos_intel.sh  # –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∫–∏ –¥–ª—è Intel
‚îÇ   ‚îú‚îÄ‚îÄ create_dmg_arm.sh     # –°–æ–∑–¥–∞–Ω–∏–µ DMG –¥–ª—è ARM
‚îÇ   ‚îî‚îÄ‚îÄ create_dmg_intel.sh   # –°–æ–∑–¥–∞–Ω–∏–µ DMG –¥–ª—è Intel
‚îú‚îÄ‚îÄ logo/
‚îÇ   ‚îú‚îÄ‚îÄ logoutm.png           # –ò—Å—Ö–æ–¥–Ω–∞—è –∏–∫–æ–Ω–∫–∞ PNG
‚îÇ   ‚îî‚îÄ‚îÄ logoutm.icns          # –ò–∫–æ–Ω–∫–∞ –¥–ª—è macOS
‚îî‚îÄ‚îÄ dist/                     # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–±–æ—Ä–∫–∏
    ‚îú‚îÄ‚îÄ UTMka.app             # –°–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚îî‚îÄ‚îÄ *.dmg                 # DMG —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∏
```

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

### –ü—Ä–æ–±–ª–µ–º–∞: "PyInstaller –Ω–µ –Ω–∞–π–¥–µ–Ω"

```bash
pip3 install pyinstaller
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ù–µ —É–¥–∞–ª–æ—Å—å –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å PyQt6"

```bash
pip3 install PyQt6 PyQt6-WebEngine
```

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–∏ —Å–±–æ—Ä–∫–µ ARM –Ω–∞ Intel Mac

–ï—Å–ª–∏ –≤—ã –ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–æ–±—Ä–∞—Ç—å ARM –≤–µ—Ä—Å–∏—é –Ω–∞ Intel Mac, —ç—Ç–æ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Mac —Å Apple Silicon –∏–ª–∏ —Å–æ–±–∏—Ä–∞–π—Ç–µ —Ç–æ–ª—å–∫–æ Intel –≤–µ—Ä—Å–∏—é.

### –ü—Ä–æ–±–ª–µ–º–∞: "sips –∏–ª–∏ iconutil –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"

–≠—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã –≤—Å—Ç—Ä–æ–µ–Ω—ã –≤ macOS. –ï—Å–ª–∏ –æ–Ω–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã.

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   # –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–∑ Terminal –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—à–∏–±–æ–∫
   dist/UTMka.app/Contents/MacOS/UTMka
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
   ```bash
   chmod +x dist/UTMka.app/Contents/MacOS/UTMka
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Console.app** –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ª–æ–≥–æ–≤

4. **–£–¥–∞–ª–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã:**
   ```bash
   xattr -cr dist/UTMka.app
   ```

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ App Store –∏–ª–∏ –¥–ª—è –æ–±—Ö–æ–¥–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```bash
# –ü–æ–¥–ø–∏—à–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è Developer ID)
codesign --deep --force --verify --verbose --sign "Developer ID Application: Your Name" dist/UTMka.app

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–ø–∏—Å—å
codesign --verify --verbose dist/UTMka.app
```

### –ù–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤–Ω–µ App Store —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—è:

```bash
# –°–æ–∑–¥–∞–π—Ç–µ zip –∞—Ä—Ö–∏–≤ –¥–ª—è –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏
ditto -c -k --keepParent dist/UTMka.app dist/UTMka.zip

# –û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞ –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏—é
xcrun notarytool submit dist/UTMka.zip \
  --apple-id "your@email.com" \
  --team-id "YOUR_TEAM_ID" \
  --password "app-specific-password" \
  --wait

# –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –Ω–æ—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏, –¥–æ–±–∞–≤—å—Ç–µ —Ç–∏–∫–µ—Ç
xcrun stapler staple dist/UTMka.app
```

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–†–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**: ~150-200 –ú–ë
- **–†–∞–∑–º–µ—Ä DMG**: ~100-150 –ú–ë (—Å–∂–∞—Ç–∏–µ)
- **–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è macOS**: 10.13 (High Sierra)
- **–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: arm64 (Apple Silicon), x86_64 (Intel)
- **–Ø–∑—ã–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞**: –†—É—Å—Å–∫–∏–π, –ê–Ω–≥–ª–∏–π—Å–∫–∏–π

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º, –∫—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–æ–æ–±—â–∞–ª –æ–± –æ—à–∏–±–∫–∞—Ö!

---

## üéâ UTMka 2.0.2 - macOS Release (English)

## üéâ macOS Release

This release is fully dedicated to the release of UTMka for macOS. Mac users can now use UTMka as a native application with full support for all features.

## üì¶ Ready-to-Use Installers

For your convenience, we have prepared ready-to-use DMG installers for both macOS architectures:

### üçé Apple Silicon (M1, M2, M3 and newer)
- **File**: `UTMka-2.0.2-macOS-ARM.dmg`
- **Architecture**: arm64
- **Size**: ~150-200 MB
- **System Requirements**: macOS 10.13 or later

### üíª Intel (x86_64)
- **File**: `UTMka-2.0.2-macOS-Intel.dmg`
- **Architecture**: x86_64
- **Size**: ~150-200 MB
- **System Requirements**: macOS 10.13 or later

## üì• Installing Ready Versions

### Quick Installation

1. **Download the DMG file** for your architecture:
   - For Mac with Apple Silicon ‚Üí `UTMka-2.0.2-macOS-ARM.dmg`
   - For Mac with Intel ‚Üí `UTMka-2.0.2-macOS-Intel.dmg`

2. **Open the DMG file** ‚Äî it will appear in Finder

3. **Drag UTMka.app** to the Applications folder
   - Or double-click the app to run without installation

4. **On first launch**, macOS may show a security warning:
   - Open **System Preferences** > **Security & Privacy**
   - Find the message about UTMka
   - Click **"Open Anyway"**

### Alternative Method (via Terminal)

If the warning doesn't appear or you want to bypass it immediately:

```bash
# Remove extended attributes
xattr -cr /Applications/UTMka.app

# Or if the app is not in Applications, specify the full path
xattr -cr /path/to/UTMka.app
```

Detailed installation instructions: see [INSTALL_MACOS.md](INSTALL_MACOS.md)

## üî® Building from Source

If you want to build the application yourself from source code, follow this guide.

### Step 1: Cloning the Repository

```bash
# Clone the repository
git clone https://github.com/your-username/UTMka-official-service.git

# Navigate to the project directory
cd UTMka-official-service
```

### Step 2: Installing Dependencies

#### 2.1. Install Python (if not already installed)

```bash
# Check Python version
python3 --version

# Should be version 3.8 or newer
# If Python is not installed, install via Homebrew:
brew install python3
```

#### 2.2. Install Project Dependencies

```bash
# Install all dependencies from requirements.txt
pip3 install -r requirements.txt

# Install PyInstaller for building
pip3 install pyinstaller
```

**Main dependencies:**
- Flask (web server)
- PyQt6 (GUI framework)
- PyQt6-WebEngine (web engine)
- pywebview (application window)
- Other dependencies from `requirements.txt`

### Step 3: Preparing the Icon

The icon should already be in the project (`logo/logoutm.icns`), but if it's not, create it:

```bash
# Navigate to the project directory
cd UTMka-official-service

# Create iconset directory
mkdir -p logo/logoutm.iconset

# Create different icon sizes from PNG
sips -z 16 16 logo/logoutm.png --out logo/logoutm.iconset/icon_16x16.png
sips -z 32 32 logo/logoutm.png --out logo/logoutm.iconset/icon_16x16@2x.png
sips -z 32 32 logo/logoutm.png --out logo/logoutm.iconset/icon_32x32.png
sips -z 64 64 logo/logoutm.png --out logo/logoutm.iconset/icon_32x32@2x.png
sips -z 128 128 logo/logoutm.png --out logo/logoutm.iconset/icon_128x128.png
sips -z 256 256 logo/logoutm.png --out logo/logoutm.iconset/icon_128x128@2x.png
sips -z 256 256 logo/logoutm.png --out logo/logoutm.iconset/icon_256x256.png
sips -z 512 512 logo/logoutm.png --out logo/logoutm.iconset/icon_256x256@2x.png
sips -z 512 512 logo/logoutm.png --out logo/logoutm.iconset/icon_512x512.png
sips -z 1024 1024 logo/logoutm.png --out logo/logoutm.iconset/icon_512x512@2x.png

# Create .icns file
iconutil -c icns logo/logoutm.iconset -o logo/logoutm.icns

# Remove temporary directory
rm -rf logo/logoutm.iconset
```

### Step 4: Building the Application

#### For Apple Silicon (ARM)

If you have a Mac with Apple Silicon (M1/M2/M3):

```bash
# Make scripts executable
chmod +x scripts/build_macos_arm.sh
chmod +x scripts/create_dmg_arm.sh

# Build the application
./scripts/build_macos_arm.sh

# Create DMG installer
./scripts/create_dmg_arm.sh
```

**Result:**
- Application: `dist/UTMka.app`
- DMG installer: `dist/UTMka-2.0.2-macOS-ARM.dmg`

#### For Intel (x86_64)

If you have a Mac with Intel processor:

```bash
# Make scripts executable
chmod +x scripts/build_macos_intel.sh
chmod +x scripts/create_dmg_intel.sh

# Build the application
./scripts/build_macos_intel.sh

# Create DMG installer
./scripts/create_dmg_intel.sh
```

**Result:**
- Application: `dist/UTMka.app`
- DMG installer: `dist/UTMka-2.0.2-macOS-Intel.dmg`

#### Building Both Versions on Mac with Apple Silicon

If you have a Mac with Apple Silicon, you can build both versions:

```bash
# 1. Build ARM version (native)
./scripts/build_macos_arm.sh
./scripts/create_dmg_arm.sh
mv dist/UTMka.app dist/UTMka.app.arm
mv dist/UTMka-2.0.2-macOS-ARM.dmg dist/UTMka-2.0.2-macOS-ARM.dmg.backup

# 2. Build Intel version (via Rosetta 2)
arch -x86_64 ./scripts/build_macos_intel.sh
arch -x86_64 ./scripts/create_dmg_intel.sh

# Now you have both versions:
# - dist/UTMka.app.arm (ARM version)
# - dist/UTMka.app (Intel version)
# - dist/UTMka-2.0.2-macOS-ARM.dmg.backup
# - dist/UTMka-2.0.2-macOS-Intel.dmg
```

**Note:** Building Intel version on Mac with Apple Silicon requires Rosetta 2 (usually installed automatically on first use).

### Step 5: Verifying the Build

Check that the application is built correctly:

```bash
# Check the architecture of the built application
file dist/UTMka.app/Contents/MacOS/UTMka

# For ARM should show: arm64
# For Intel should show: x86_64

# Try to launch the application
open dist/UTMka.app
```

## üõ†Ô∏è Troubleshooting Build Issues

### Issue: "PyInstaller not found"

```bash
pip3 install pyinstaller
```

### Issue: "Failed to import PyQt6"

```bash
pip3 install PyQt6 PyQt6-WebEngine
```

### Issue: Architecture error when building ARM on Intel Mac

If you're trying to build ARM version on Intel Mac, it won't work without special setup. Use a Mac with Apple Silicon or build only Intel version.

### Issue: "sips or iconutil not found"

These utilities are built into macOS. If they don't work, check system integrity.

### Issue: Application won't launch after build

1. **Check logs:**
   ```bash
   # Run from Terminal to see errors
   dist/UTMka.app/Contents/MacOS/UTMka
   ```

2. **Check permissions:**
   ```bash
   chmod +x dist/UTMka.app/Contents/MacOS/UTMka
   ```

3. **Check Console.app** for system logs

4. **Remove extended attributes:**
   ```bash
   xattr -cr dist/UTMka.app
   ```

## üìä Technical Details

- **Application size**: ~150-200 MB
- **DMG size**: ~100-150 MB (compressed)
- **Minimum macOS version**: 10.13 (High Sierra)
- **Supported architectures**: arm64 (Apple Silicon), x86_64 (Intel)
- **Interface languages**: Russian, English

## üôè Acknowledgments

Thanks to everyone who tested the app and reported bugs!
