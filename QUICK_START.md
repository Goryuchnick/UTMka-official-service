# UTMka - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

[üá¨üáß English version](QUICK_START_EN.md)

## –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è STEP_3 (Windows —Å–±–æ—Ä–∫–∞)

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ! –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç—É –ø–∞–º—è—Ç–∫—É –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã.

---

## üöÄ –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
# –û—Ç–∫—Ä–æ–µ—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å hot reload
python run_desktop.py --dev
```

URL: http://127.0.0.1:5000
–ë–î: `./utm_data.db` (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞)

### –ó–∞–ø—É—Å–∫ desktop –≤–µ—Ä—Å–∏–∏

```bash
# PyWebView –æ–∫–Ω–æ (–∫–∞–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ)
python run_desktop.py
```

–ë–î: `%AppData%\Roaming\UTMka\databases\utmka.db`

---

## üìù –í–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Frontend

### –§–∞–π–ª—ã –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

```
frontend/
‚îú‚îÄ‚îÄ index.html          # HTML —Ä–∞–∑–º–µ—Ç–∫–∞
‚îú‚îÄ‚îÄ css/main.css        # –°—Ç–∏–ª–∏
‚îî‚îÄ‚îÄ js/
    ‚îú‚îÄ‚îÄ app.js          # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π, –≥–ª–∞–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
    ‚îú‚îÄ‚îÄ ui.js           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
    ‚îú‚îÄ‚îÄ api.js          # HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ backend
    ‚îú‚îÄ‚îÄ translations.js # –ü–µ—Ä–µ–≤–æ–¥—ã RU/EN
    ‚îî‚îÄ‚îÄ utils.js        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
```

### Workflow –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

1. **–í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è** –≤ –Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ dev —Ä–µ–∂–∏–º–µ**:
   ```bash
   python run_desktop.py --dev
   ```
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ desktop —Ä–µ–∂–∏–º–µ**:
   ```bash
   python run_desktop.py
   ```
4. **–ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞** –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏:
   ```bash
   python rebuild.py --run
   ```

---

## üî® –°–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ (–±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞)

```bash
# –¢–æ–ª—å–∫–æ PyInstaller
python rebuild.py

# –° –æ—á–∏—Å—Ç–∫–æ–π
python rebuild.py --clean

# –° –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–æ–º
python rebuild.py --run
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `dist/UTMka/UTMka.exe`
–í—Ä–µ–º—è: ~1-2 –º–∏–Ω—É—Ç—ã

### –ü–æ–ª–Ω–∞—è —Å–±–æ—Ä–∫–∞ (—Å —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–æ–º)

```bash
python installers/windows/build.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- `dist/UTMka/UTMka.exe` ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- `dist/UTMka-Setup-3.0.0.exe` ‚Äî —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫

–í—Ä–µ–º—è: ~3-5 –º–∏–Ω—É—Ç

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| [DEVELOPMENT.md](DEVELOPMENT.md) | –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ |
| [README.md](README.md) | –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ |
| [docs/migration/README.md](docs/migration/README.md) | –ò—Å—Ç–æ—Ä–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ |
| [docs/migration/ARCHITECTURE.md](docs/migration/ARCHITECTURE.md) | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ |

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Frontend –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è UTM-—Å—Å—ã–ª–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- [ ] –®–∞–±–ª–æ–Ω—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è
- [ ] –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ö–æ—Ä–æ—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ (clck.ru) —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] QR-–∫–æ–¥—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ RU/EN —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–º–ø–æ—Ä—Ç—ã
python -c "from src.api import create_app; print('OK')"
```

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

```bash
# –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à —Å–±–æ—Ä–∫–∏
python rebuild.py --clean
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

```bash
# –£–¥–∞–ª–∏—Ç—å dev –ë–î (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –Ω–∞—á–∞—Ç—å —Å —á–∏—Å—Ç–æ–≥–æ –ª–∏—Å—Ç–∞)
rm utm_data.db

# –£–¥–∞–ª–∏—Ç—å desktop –ë–î
rd /s /q %AppData%\Roaming\UTMka
```

---

## üì¶ –ì–æ—Ç–æ–≤–æ –∫ —Ä–µ–ª–∏–∑—É?

–ü–µ—Ä–µ–¥ –≤—ã–ø—É—Å–∫–æ–º –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏:

1. –û–±–Ω–æ–≤–∏—Ç–µ –≤–µ—Ä—Å–∏—é –≤:
   - `installers/windows/version_info.txt`
   - `installers/windows/setup.iss`

2. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω—É—é —Å–±–æ—Ä–∫—É:
   ```bash
   python installers/windows/build.py
   ```

3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫

4. –°–æ–∑–¥–∞–π—Ç–µ git tag:
   ```bash
   git tag -a v3.0.1 -m "Release v3.0.1"
   git push origin v3.0.1
   ```

---

**–ì–æ—Ç–æ–≤–æ! –ü—Ä–∏—è—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!** üöÄ
